# 实操案例标准格式模板 v1.0

## 案例结构规范

### 案例X：[任务名称]（[技术关键词]）

#### [场景/问题描述]

**[核心任务]的定义**：
- 明确定义任务的输入和输出
- 说明任务在智能驾驶中的作用

**为什么选择[具体技术方案]？**
- 3-5个要点，说明技术选择的合理性
- 对比其他方案的优劣
- 与工业界实践的关联

**技术难点**：
- 列举2-3个核心挑战
- 每个难点附带简要解释

---

#### 数据准备与探索

**数据来源**：
- 数据集名称和规模
- 数据获取方式（下载脚本/手动下载）
- 数据目录结构

**数据特点**：

| 维度 | 说明 |
|-----|------|
| **数据规模** | 样本数量、时间跨度 |
| **数据格式** | 文件类型、维度 |
| **标注类型** | 标注内容、标注方式 |
| **数据分布** | 类别分布、统计特征 |

**数据预处理**：
```python
# 关键预处理代码示例
# 包含：加载、转换、归一化
```

**可视化探索**（3-6张图）：
1. **[图片名称1]**  
   ![Description](path/to/image1.png)  
   说明：描述图片内容和意义

2. **[图片名称2]**  
   ![Description](path/to/image2.png)  
   说明：...

---

#### 模型设计与训练

**[模型名称]架构**：

```
核心架构框图描述
输入 → 特征提取 → 任务头 → 输出
```

**模型设计要点**：
- **输入设计**：维度、格式、预处理
- **网络结构**：层数、通道数、激活函数
- **输出设计**：维度、含义、后处理

**训练配置**：

```python
# 超参数设置
batch_size = 32
learning_rate = 1e-3
epochs = 30
optimizer = Adam
loss_function = [损失函数名称]
```

**训练脚本运行**：

```bash
# 基础训练命令
python tutorial_runs/[script_name].py

# 带参数训练命令
python tutorial_runs/[script_name].py \
    --epochs 30 \
    --batch_size 32 \
    --learning_rate 1e-3
```

**预期输出**：
- 模型权重文件：`output/[model_name].pth`
- 训练日志：`output/[log_name].csv`
- 评估指标：`output/[metrics_name].json`

---

#### 结果分析与可视化

**评估指标**：

| 指标名称 | 含义 | 预期范围 | 实际结果 |
|---------|------|---------|---------|
| **指标1** | 说明 | X-Y | Z |
| **指标2** | 说明 | X-Y | Z |

**训练过程可视化**：

1. **训练损失曲线**  
   ![Loss Curve](path/to/loss.png)  
   - 横轴：epoch，纵轴：loss值
   - 应观察到下降趋势
   - 如果震荡/不收敛，参考"问题诊断与调优"章节

2. **[其他关键指标]曲线**  
   ![Metric Curve](path/to/metric.png)  
   说明：...

**预测结果可视化**（2-4张图）：

3. **[结果类型1]**  
   ![Result1](path/to/result1.png)  
   说明：展示X个样本的预测vs真实对比

4. **[结果类型2]**  
   ![Result2](path/to/result2.png)  
   说明：误差分布/性能分析

**动态演示**（可选但推荐）：

5. **[任务演示动画]**  
   ![Demo GIF](path/to/demo.gif)  
   - 视角：[第一人称/BEV/...]
   - 时长：X秒
   - 场景：描述展示内容
   - 特点：说明演示的关键点

**可视化脚本**：
- 静态图表生成：训练脚本 `[train_script].py` 自动生成
- 动画生成：`tutorial_runs/create_[task]_demo.py`

---

#### 问题诊断与调优

**本案例可能遇到的训练问题及诊断流程**：

根据**第1章训练问题诊断表**，[任务名称]容易出现以下问题：

| 实际问题 | 现象描述 | 诊断表对应行 | 处置方案（按优先级） | 代码位置 |
|---------|---------|-------------|---------------------|---------|
| **[问题1]** | 具体症状描述 | 对应诊断表的哪一行 | ✅ **方案1**（参数调整）<br>✅ 方案2<br>方案3 | `代码文件:行号`<br>或具体参数 |
| **[问题2]** | ... | ... | ... | ... |
| **[问题3]** | ... | ... | ... | ... |
| **[问题4]** | ... | ... | ... | ... |

**[本任务]特有的调试技巧**：
1. **技巧1**：说明和示例
2. **技巧2**：说明和示例
3. **技巧3**：说明和示例

**实操建议**：
1. **首先运行baseline**：不做任何修改，观察[关键指标]
2. **遇到问题再诊断**：对照上表找到对应行，按优先级尝试
3. **记录每次调整**：修改前后的[指标]对比，写入训练日志
4. **避免过度调参**：每次只改一个参数，观察2-3个epoch效果

**与第1章理论的关联**：
- 诊断表是**通用方法论**（适用所有深度学习任务）
- 本节是**具体应用实例**（[任务名称]的特定问题场景）
- 学员需要：理解表格逻辑 → 识别实际问题 → 映射到表格行 → 执行处置方案

**检查点（[案例名称]完成）**：
- ✅ 训练日志包含至少 X 个 epoch
- ✅ 权重文件成功生成
- ✅ [关键指标]达到预期范围
- ✅ 可视化图表正确生成
- ✅ 能够解释训练曲线趋势

---

---

## 格式检查清单

### 必备要素（每个案例必须包含）
- [ ] 案例标题清晰（任务+技术关键词）
- [ ] 5个标准小节（场景描述、数据准备、模型训练、结果分析、问题诊断与调优）
- [ ] 数据可视化≥3张图片
- [ ] 结果可视化≥2张图片
- [ ] 问题诊断表≥3个问题
- [ ] 训练脚本完整可运行
- [ ] 检查点清单（5-7项）

### 推荐要素（提升教学效果）
- [ ] 动态演示GIF（驾驶者视角/BEV视角）
- [ ] 与其他案例的对比表
- [ ] 代码示例片段（2-3处关键代码）
- [ ] 特有调试技巧（3-5条）
- [ ] 预期输出文件列表
- [ ] 参数调整建议表

### 文档质量标准
- [ ] 图片路径使用相对路径
- [ ] 代码块标注语言类型（```python, ```bash）
- [ ] 表格格式规范对齐
- [ ] 专业术语首次出现时加粗
- [ ] 关键步骤使用✅标记
- [ ] 避免"我们""你"等主观描述
- [ ] 数值/参数/路径使用行内代码格式

### 逻辑连贯性检查
- [ ] 每节与标题一致
- [ ] 诊断表问题对应第1章
- [ ] 数据→模型→训练→结果流程完整
- [ ] 检查点与实际输出匹配

---

## 使用说明

### AI检查时
1. 逐项对照"格式检查清单"
2. 缺失项标记并给出补充建议
3. 格式错误直接修正
4. 逻辑断层提示连接方式

### 人工审核时
1. 优先检查"必备要素"
2. 重点审核"问题诊断表"准确性
3. 验证代码路径和输出文件存在性
4. 测试训练脚本可运行性

---

## 版本历史

**v1.0** (2026-01-20)
- 初始版本
- 定义6个标准小节结构
- 建立4级检查清单（必备/推荐/质量/逻辑）
- 明确与第1章、第3章的关联规范

---

## 示例应用

### 案例一：行为克隆（端到端驾驶）
- ✅ 完整覆盖5个小节
- ✅ 包含7张可视化图片
- ✅ 问题诊断表4个问题

### 案例二：世界模型（nuScenes轨迹预测）
- ✅ 完整覆盖5个小节
- ✅ 包含8张可视化图片+1个GIF动画
- ✅ 问题诊断表6个问题

### 案例三、四待检查
- 需要补充"问题诊断与调优"章节
- 需要完善可视化图片说明
